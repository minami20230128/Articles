# ・インデックスとは
よく検索する列などについて、検索を早くするために検索用の参照情報を保持すること。
デフォルトでは主キーにインデックスが張られている。

## 例
このようなテーブルがあったとする。

id	name	email	age  
1	Alice	alice@example.com	25  
2	Bob	bob@example.com	30  
3	Carol	carol@example.com	22

email列でインデックスを貼った場合、B木インデックスだとこうなる。
以下のように、その列の値と行情報のポインタが保存される。

         [bob@example.com] → (ポインタ: 行ID 2)
       /                        \
[alice@example.com] → (ポインタ: 行ID 1)    [carol@example.com] → (ポインタ: 行ID 3)

値そのものも含んでいるため、email列だけで完結するSQL文を処理する場合はテーブルにはアクセスしない。他の列にもアクセスする場合、テーブルを参照しなければならないので速度が落ちる。
あるSQL文を処理するのに、必要な列情報がすべて含まれているインデックスを**カバリングインデックス**という。

## 効果が出やすいとき
・大量のデータの中から僅かなものを探し出すとき
・カーディナリティ（同じ列に入るデータの値のバラバラ度合い）が高いとき
・データの量が多いとき

## 効果が出にくいとき
・データの殆どが当てはまるような検索をするとき
・NULLを含んだ検索をするとき
・カーディナリティが低いとき
・データの量が少ないとき（フルスキャンのほうが高速かも）
**パフォーマンスはサーバの状況にもよっても変わるため実際に計測してみることが大事**

## デメリット
・インデックスを格納するにも容量が必要（ポインタと値両方保持するので）  
・テーブルの変更処理（追加・更新・削除）が遅くなる  
・メンテナンスが必要  

## インデックスの具体例
1. B木検索
データを二分木構造で保存する。
線形検索 O(n) から 対数時間 O(log n) になるので