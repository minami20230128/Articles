# ・TLS暗号化とは
HTTP通信を第三者に盗聴されないため、HTTPSとして暗号化する際に使われる暗号化方式。  
データを暗号化するための共通鍵を公開鍵暗号方式、データ自体を共通鍵暗号方式で暗号化する。

## 公開鍵暗号方式のおさらい
公開鍵と秘密鍵を使う方式。  
**公開鍵**...暗号化に使用する鍵。  
**秘密鍵**...復号化に使用する鍵。受信者のみが保有できる。（それ以外の人が持っていたら復号できてしまうので意味がない）

## 共通鍵暗号方式のおさらい
同一の鍵で暗号化・復号化する。  
公開鍵暗号方式より復号にかかる時間が少ない。

## 通信手順

![SSL暗号化通信](/images/SSL暗号化方式のイメージ.png)

1. クライアント側->サーバ側 リクエストを送る
2. サーバ側->クライアント側 公開鍵とSSLサーバ証明書を送る。クライアントはルート証明書でサーバ証明書を検証する。
3. クライアント側->サーバ側 クライアント側で共通鍵を生成し、公開鍵で暗号化してサーバ側に送信
4. クライアント側->サーバ側 個人情報などの機密情報を共通鍵で暗号化し、サーバ側に送る
5. サーバ側 送られてきた機密情報を秘密鍵で復号化

- なぜ2つの暗号化方式を併用するの?  
正当なサーバであるかどうかの検証は相異なる鍵を使った公開鍵暗号方式である必要があるが、  
それができればデータ自体の暗号化は同一の鍵でよく、復号にかかる時間を減らしてパフォーマンスの低下を避けるため、共通鍵暗号方式を用いる。

## 鍵長
暗号化処理で暗号化・復号化の処理に使う暗号鍵のデータ量のこと。  
現在は基本的に**2048bit以上**が適切だとされている。  
理由は、鍵長は長ければ長いほど安全性が高い反面処理時間も伸びるため。  
これ以上の長さになると現在のコンピュータで現実的な時間内（数分）で解読することが難しい。  
なお、将来的なコンピュータの処理速度向上により変化する可能性がある。