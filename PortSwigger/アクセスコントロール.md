# アクセスコントロール
アクセスコントロールとは、ユーザのリソースへのアクセスや取れる行動を制限すること。  
Authentication...ユーザ認証  
Session management...同じユーザによってリクエストが行われていることの証明  
Access Control...ユーザのアクションの制御  

## Vertical privilege escalation
Vertical privilage escalationとは、管理者でない人が管理者用のページにアクセスし、ユーザアカウントの削除などの操作を行うこと。  
```
https://~.com
```
このようなサイトがあったとき、だいたい管理者用の画面は
https://~.com/admin、https://~.com/robots.txtあたりにあることが多い。  

ここにアクセスすることで、本来管理者しかできない操作を一般ユーザが実行できてしまう。

## Horizontal privilege escalation
Horizontal privilege escalationとは、あるユーザが他のユーザの権限を使って何かしらの操作を行うこと。  
たとえばURLの中のid=〇〇の箇所を書き換えることで他のユーザのアカウントでログインすることが可能。  
推測されにくいように連番ではなくGUIDになっていたとしても、そのユーザの情報を表示するリンクやコメントから取得できてしまう。

## 対策
1. security by obscurity
管理者用画面のURLを推測されにくくすることで対策可能。
これは"security by obscurity"と呼ばれる。  
具体的には、以下のようにJavaScriptでURLを差し替えるなど。
```
<script>
	var isAdmin = false;
	if (isAdmin) {
		...
		var adminPanelTag = document.createElement('a');
		adminPanelTag.setAttribute('href', 'https://insecure-website.com/administrator-panel-yb556');
		adminPanelTag.innerText = 'Admin panel';
		...
	}
</script>
```
ただし、この対策を取ったとしても開発者ツールから見られる箇所にこの処理を埋め込んでいる場合は簡単にURLを看破されてしまう。

2. parameter-based accesscontrol methods
ログイン時に、ユーザの権限や認可情報をユーザのコントロールできる箇所に設置すること。  
- hiddenフィールド
- Cookie
- クエリパラメータ
しかし、これらはユーザの手で変更できてしまうため脆弱性となりうる。

## その他
パスワードは隠れていても開発者ツールから取得可能。