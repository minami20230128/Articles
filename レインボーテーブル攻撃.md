# ・レインボーテーブル攻撃
複数の文字とハッシュ値の対応表（レインボーテーブル）を作成し、
漏洩したハッシュ値をレインボーテーブル中の文字と比較することによって元のパスワードを導き出す方法。

無数の平文をハッシュ化し比較する**ブルートフォース攻撃**と比較すると、必要なメモリ量を少なく済ませることが可能。

## レインボーテーブル作成手順
1. 平文を複数個用意する
2. 各平文にハッシュ関数を適用し、ハッシュ値を導出する
3. ハッシュ値に還元関数を適用し、ランダムな平文を対応付ける
4. 2・3を繰り返す(還元関数は都度異なるものを使用)   
平文-平文を変換したハッシュ値の組み合わせがたくさんできる(チェーン)
5. 最初に用意した平文と最後に導出された平文だけを残し、途中に出てきたものは消去する。
下の図で言えばりんご-いちごだけ残す。
（メモリ量節約のため）

![レインボーテーブル作成手順](/image/chain.png)

## パスワードの探し方
1. 漏洩した文字列に還元関数を使用し、文字列を導出
2. チェーンの末尾にその文字列があるかどうかを探す(いちごの列)
3. なかったら見つかるまでハッシュ関数・還元関数を実行
最大でレインボーテーブル作成時にハッシュ化した回数繰り返す
4. 末尾の文字列が一致した場合、パスワードはそのチェーンの末尾からハッシュ化した回数分前の要素であることがわかる

ただし、現在ではソルトの使用・ストレッチング(複数回ハッシュ関数を適用)といった対策が取られることが一般的となり、現在ではレインボーテーブル攻撃が行われることは少ない。